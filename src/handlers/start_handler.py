from aiogram.filters import CommandStart
from aiogram.types import Message
from aiogram import Router
from api.user_api import get_user_by_tg_id

router = Router()

USER_NOT_REGISTER_TEXT = (
    "ÐŸÑ€Ð¸Ð²ÐµÑ‚, Ñ Ð¡Ð¾Ð½ÑŒÐºÐ° â€” Ñ‚Ð²Ð¾Ð¹ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº Ð¿Ð¾ ÑÐ½Ñƒ! ðŸ˜Š\n"
    "ÐŸÐ¾ÑÐºÐ¾Ð»ÑŒÐºÑƒ Ñ‚Ñ‹ Ð·Ð´ÐµÑÑŒ Ð²Ð¿ÐµÑ€Ð²Ñ‹Ðµ, Ñ ÑƒÐ¶Ðµ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð»Ð° Ñ‚ÐµÐ±Ñ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ, "
    "Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ð²Ð¾Ð¹ ÑÐ¾Ð½.\n"
    "Ð¯ Ð¿Ð¾Ð¼Ð¾Ð³Ñƒ Ñ‚ÐµÐ±Ðµ ÑƒÐ»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑŒ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ½Ð°, Ð´Ð°Ð¼ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÑÐ¾Ð²ÐµÑ‚Ñ‹ Ð¸ Ð½Ð°Ð¿Ð¾Ð¼Ð½ÑŽ, "
    "ÐºÐ¾Ð³Ð´Ð° Ð¿Ð¾Ñ€Ð° Ð»Ð¾Ð¶Ð¸Ñ‚ÑŒÑÑ ÑÐ¿Ð°Ñ‚ÑŒ. ðŸ›ï¸\n\n"
    "Ð§Ñ‚Ð¾Ð±Ñ‹ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ, Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð½Ð°Ð¿Ð¸ÑˆÐ¸ Ð¼Ð½Ðµ, ÐºÐ¾Ð³Ð´Ð° Ñ‚Ñ‹ Ð»Ð¾Ð¶Ð¸ÑˆÑŒÑÑ ÑÐ¿Ð°Ñ‚ÑŒ, "
    "Ð¸ Ñ Ð±ÑƒÐ´Ñƒ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ð²Ð¾Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹!\n"
    "Ð•ÑÐ»Ð¸ Ñƒ Ñ‚ÐµÐ±Ñ ÐµÑÑ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¸Ð»Ð¸ Ñ‚Ñ‹ Ñ…Ð¾Ñ‡ÐµÑˆÑŒ ÑƒÐ·Ð½Ð°Ñ‚ÑŒ Ð±Ð¾Ð»ÑŒÑˆÐµ, Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð½Ð°Ð¶Ð¼Ð¸ "
    "ÐºÐ½Ð¾Ð¿ÐºÑƒ \"ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ\"! ðŸ’œ"
)

USER_IS_REGISTER_TEXT = (
    "ÐŸÑ€Ð¸Ð²ÐµÑ‚ ÑÐ½Ð¾Ð²Ð°! Ð Ð°Ð´Ð°, Ñ‡Ñ‚Ð¾ Ñ‚Ñ‹ Ñ Ð½Ð°Ð¼Ð¸. ðŸ˜Š\n"
    "Ð¢ÐµÐ¿ÐµÑ€ÑŒ, ÐºÐ¾Ð³Ð´Ð° Ñ‚Ñ‹ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½, Ð´Ð°Ð²Ð°Ð¹ Ð½Ð°Ñ‡Ð½Ñ‘Ð¼ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð½Ð°Ð´ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸ÐµÐ¼ Ñ‚Ð²Ð¾ÐµÐ³Ð¾ ÑÐ½Ð°!\n\n"

    "Ð¢Ñ‹ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð¾Ð´Ð½Ñƒ Ð¸Ð· ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ñ… Ð¾Ð¿Ñ†Ð¸Ð¹:\n"
    "Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð²Ñ€ÐµÐ¼Ñ Ð·Ð°ÑÑ‹Ð¿Ð°Ð½Ð¸Ñ â€” Ð¯ Ð±ÑƒÐ´Ñƒ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ñ‚ÑŒ Ñ‚ÐµÐ±Ðµ, ÐºÐ¾Ð³Ð´Ð° Ð¿Ð¾Ñ€Ð° Ð»Ð¾Ð¶Ð¸Ñ‚ÑŒÑÑ ÑÐ¿Ð°Ñ‚ÑŒ.\n"
    "Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð²Ñ€ÐµÐ¼Ñ Ð¿Ñ€Ð¾Ð±ÑƒÐ¶Ð´ÐµÐ½Ð¸Ñ â€” Ð¯ Ð¿Ð¾Ð¼Ð¾Ð³Ñƒ Ñ‚ÐµÐ±Ðµ Ð¿Ñ€Ð¾ÑÑ‹Ð¿Ð°Ñ‚ÑŒÑÑ Ð² Ð½ÑƒÐ¶Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ.\n"
    "ÐŸÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾ ÑÐ½Ñƒ â€” ÐŸÐ¾Ð»ÑƒÑ‡Ð¸ ÑÐ¾Ð²ÐµÑ‚Ñ‹, Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð½Ð° Ñ‚Ð²Ð¾Ñ‘Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ Ð¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ ÑÐ½Ð°.\n"
    "Ð“Ð°Ð¹Ð´ Ð½Ð° ÑÐ¾Ð½ â€” ÐžÐ·Ð½Ð°ÐºÐ¾Ð¼ÑŒÑÑ Ñ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ð¼Ð¸ ÑÑ‚Ð°Ñ‚ÑŒÑÐ¼Ð¸ Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð°Ð¼Ð¸, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ñ‹ÑÑ‹Ð¿Ð°Ñ‚ÑŒÑÑ Ð»ÑƒÑ‡ÑˆÐµ.\n"
    'Ð–Ð´Ñƒ Ñ‚Ð²Ð¾ÐµÐ³Ð¾ Ð²Ñ‹Ð±Ð¾Ñ€Ð°! ðŸ’œ Ð•ÑÐ»Ð¸ Ñ…Ð¾Ñ‡ÐµÑˆÑŒ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ ÑƒÑ‚Ð¾Ñ‡Ð½Ð¸Ñ‚ÑŒ, Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð½Ð°Ð¶Ð¼Ð¸ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ "ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ".'
)

@router.message(CommandStart())
async def start_handler(message: Message) -> None:
    user = await get_user_by_tg_id(message.from_user.id)
    if user is None:
        await message.answer(USER_NOT_REGISTER_TEXT)
    else:
        await message.answer(USER_IS_REGISTER_TEXT)
        
